<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title></title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
  <!-- Custom styles for this template -->
  <link rel="stylesheet" href="/css/styles.css">
  <!--Google Fonts-->
  <link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400&display=swap" rel="stylesheet"> 
</head>

<body>

  <body class="text-center diagram-selec-body">
    

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#"><img src="/images/greenCE.png" style="width:35px; vertical-align:middle" alt="logo">CarEdison</a>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="/homepage">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/pricing">Pricing</a>
            </li>
            <li class="nav-item">
              <a class="nav-link " href="/stations">Stations</a>
            </li>
          </ul>
        </div>
          <div class="logout-btn">
          <form action="/logout" class="form-inline my-2 my-lg-0 logout-btn" method="post">
            <button class="btn btn-outline-light my-2 my-sm-0" type="submit">Logout</button>
          </form>
          </div>
      </div>
    </nav>
    

    <div class="diagram-inside-div d-flex align-items-center justify-content-center">
      <div class="diagram-select-border">
        <form action="/homepage/select-diagram" method="POST">
          <h2>Just one click away </h2>
          <% if(warning) {%>
            <div class="alert alert-warning alert-dismissible fade show" role="alert">
              <strong>Error!</strong> <%= warning %>
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div> 
          <% } %>
          <div class="mb-5 mt-5 row">
            <div class="col-sm-2">Select diagram</div>
            <div class="col-sm-10">
              <div class="d-flex justify-content-between">
                <input type="radio" class="btn-check" name="options" id="option1" value="option1" autocomplete="off" required>
                <label class="btn btn-outline-info" for="option1">Energy per session</label>
                <input type="radio" class="btn-check" name="options" id="option2" value="option2" autocomplete="off">
                <label class="btn btn-outline-info" for="option2">Charging cost per session</label>

                <input type="radio" class="btn-check" name="options" id="option3" value="option3" autocomplete="off">
                <label class="btn btn-outline-info" for="option3">Energy per provider</label>

              </div>
            </div>
          </div>

          <!--Hide options-->
          <div class="toggle-div">
            <div class="mb-5 row">
              <label for="diagramId" class="col-sm-2 col-form-label">Vehicle Id</label>
              <div class="col-sm-10">
                <input type="number" class="form-control" id="diagramId" name="diagramId"
                  placeholder="Enter a valid id here" min="1" required>
              </div>
            </div>
            <!-- Close div-->
          </div>

            <div class="mb-5 row">
              <label for="initial-date" class="col-sm-2 col-form-label">Starting date</label>
              <div class="col-sm-10">
                <input type="date" class="form-control" id="initial-date" name="initial-date"
                  value="2018-06-12" required>
              </div>
            </div>
            <div class="mb-5 row">
              <label for="final-date" class="col-sm-2 col-form-label">Final date</label>
              <div class="col-sm-10">
                <input type="date" class="form-control" id="final-date" name="final-date"
                  value="2020-12-30" required>
              </div>
            </div>
          <div class="d-flex justify-content-end">
            <button class="btn-lg btn-dark" type="submit">Show me!</button>

          </div>
        </form>
      </div>
    </div>

  </body>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous">
  </script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<script>
$("label[for='option1'], label[for='option2']").click( () => {
  $('.toggle-div').removeClass("hide-input-div");
  $("input").attr('required', true)
});


$("label[for='option3']").click( () => {
  $('.toggle-div').addClass("hide-input-div");
  $("#diagramId").removeAttr("required")
})
/*
$(".toggle-div")
  $(".hide-input-div").css("visibility","hidden");
*/
</script>

</body>

</html>
